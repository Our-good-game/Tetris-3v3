<head>
  <script src='timer.js'></script>
  <script src='player-interface.js'></script>
  <script src='classic-tetris.js'></script>
  
</head>
<body>
  <div style='user-select:none; color:rgb(85, 83, 211); background-color:rgb(83, 165, 110); font:17px georgia'>
    <div style='display:table; margin:0 auto;'>
      <div style="border:6px blue solid; border-radius:5px; position:relative;">
        <canvas id='tetris-canvas' class='canvas' width='1400' height='700'></canvas>
        <div style='padding: 0px 200px;'>
          <button id='lock-space-btn' style="width:100px;height:30px;">lock-space</button>
          <button id='bonus-btn' style="width:100px;height:30px;">bonus</button>
          <button id='defense-btn' style="width:100px;height:30px;">defense</button>
        </div>
        <div style='padding: 0px 200px;'>
          <button id='hard_hold_on' style="width:100px;height:30px;">強制hold on</button> 
          <button id='change_left_right' style="width:100px;height:30px;">左右交換</button>
          <button id='block_preview' style="width:100px;height:30px;">遮蔽方塊</button>
        </div>
        <!-- Play block border  (left) -->
        <div style="border:6px orange solid; border-radius:5px; width:278px; height:554px; position:absolute; top:90px; left:205px;"></div>
        <!-- Next block border  (left) -->
        <div style="border:6px orange solid; border-radius:5px; width:129px; height:380px; position:absolute; top:90px; left:70px;"></div>
        <!-- Score block border (left) -->
        <div style="border:6px orange solid; border-radius:5px; width:130px; height:140px; position:absolute; top:505px; left:490px;"></div>
        <!-- Hold block border  (left) -->
        <div style="border:6px orange solid; border-radius:5px; width:130px; height:140px; position:absolute; top:90px; left:490px;"></div>

        <!-- Play block border  (right) -->
        <div style="border:6px orange solid; border-radius:5px; width:278px; height:554px; position:absolute; top:90px; left:910px;"></div>
        <!-- Next block border  (right) -->
        <div style="border:6px orange solid; border-radius:5px; width:129px; height:380px; position:absolute; top:90px; left:775px;"></div>
        <!-- Score block border (right) -->
        <div style="border:6px orange solid; border-radius:5px; width:130px; height:140px; position:absolute; top:505px; left:1195px;"></div>
        <!-- Hold block border  (right) -->
        <div style="border:6px orange solid; border-radius:5px; width:130px; height:140px; position:absolute; top:90px; left:1195px;"></div>
      </div>
      <div style='padding:0px 30px 15px 30px;'>
        <label for='level-input'>Start level:</label>
        <input id='level-input' name='level-input' type='number' min='0' max='19' value='5'></input>
        <button id='start-stop-btn'>Play/Pause</button>
        <button id='quit-btn'>Quit</button>
      </div>
    </div>
  </div>
</body>
<script>
  const canvas = document.getElementById('tetris-canvas');
  const timer = new timecount();
  const tetris = new ClassicTetris(canvas);
  const tetris2 = new PlayerInterface(canvas);
window.addEventListener('load', event => {
  
  document.getElementById('start-stop-btn').addEventListener('click', event => {
    const startLevel = document.getElementById('level-input').value;
    tetris.setStartLevel(startLevel);
    timer.settime(tetris.togglePlayPause());
    tetris2.setStartLevel(startLevel);
    tetris2.togglePlayPause();
  });
  document.getElementById('quit-btn').addEventListener('click', event => {
    tetris.quit();
    tetris2.quit();
    timer.resettime()
  });
  document.getElementById('lock-space-btn').addEventListener('click', event => {
    tetris2.setItemsLockSpace();
  });
  document.getElementById('defense-btn').addEventListener('click', event => {
    tetris2.setItemsDefense();
  });
  
  document.getElementById('hard_hold_on').addEventListener('click', event => {
    tetris2.setHardHoldOn();
  });
  document.getElementById('change_left_right').addEventListener('click', event => {
    tetris2.setLeftRightChange();
  });
  document.getElementById('block_preview').addEventListener('click', event => {
    tetris2.block_preview();
  });
});
</script>
